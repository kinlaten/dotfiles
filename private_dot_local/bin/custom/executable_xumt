#!/usr/bin/env bash

SESSION="Daily"

# Check if session exists; if not, create it
if ! tmux has-session -t "$SESSION" 2>/dev/null; then

  # 1. Create Session with 'Main' window
  tmux new-session -d -s "$SESSION" -n 'Main' -c "$HOME"
  tmux send-keys -t "$SESSION:Main" "neofetch" Enter
  tmux split-window -h -t "$SESSION:Main" -c "$HOME"

  # 2. Git Window
  tmux new-window -t "$SESSION" -n 'GitRepo' -c "$HOME/Documents/gitRepo/"
  tmux split-window -h -t "$SESSION:GitRepo" -c "$HOME/Documents/gitRepo/"

  # 3. Config Window
  tmux new-window -t "$SESSION" -n 'Config' -c "$HOME/.config/"
  tmux send-keys -t "$SESSION:Config" "nvim +NvimTreeToggle" Enter
  tmux split-window -h -t "$SESSION:Config" -c "$HOME/.local/bin/custom/"

fi

# Attach to the 'Main' window
tmux attach-session -t "$SESSION:Main"
